[test_runner]
debug = 0
parallel_limit = 20


[DEFAULT]

#BASEFILENAME_NOVASOFT=neardet_r00011552_s05
#EXPCODE_NOVASOFT=novasoft
EXPSCRIPT_NOVASOFT=ci_regression_test_novasoft.sh
INPUTFILEDIR_NOVASOFT=/pnfs/nova/persistent/users/vito/ci_tests_inputfiles




[test ci_raw2root_nd_t00_regression_test_novasoft]

script=${TEST_CI_DIR}/test/%(EXPSCRIPT_NOVASOFT)s
STEP=1
STEP_NAME=raw2root_nd_t00
NEVENTS=1
TESTMASK=testmask_custom.txt
FHiCL_FILE=ci_test_raw2root_novasoft.fcl
INPUT_FILE=neardet_r00011552_s00_t00.raw
OUTPUT_STREAM=out1:neardet_r00011552_s00_t00_Current.artdaq.root
args=--nevents %(NEVENTS)s --step %(STEP)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --step-name %(STEP_NAME)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_NOVASOFT)s/%(INPUT_FILE)s %(INPUTFILEDIR_NOVASOFT)s/%(TESTMASK)s %(INPUTFILEDIR_NOVASOFT)s/%(FHiCL_FILE)s %(INPUTFILEDIR_NOVASOFT)s/neardet_r00011552_s00_t00_Reference.artdaq.root
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[test ci_raw2root_nd_t02_regression_test_novasoft]

script=${TEST_CI_DIR}/test/%(EXPSCRIPT_NOVASOFT)s
STEP=1
STEP_NAME=raw2root_nd_t02
NEVENTS=1
TESTMASK=testmask_custom.txt
FHiCL_FILE=ci_test_raw2root_novasoft.fcl
INPUT_FILE=neardet_r00011552_s00_t02.raw
OUTPUT_STREAM=out1:neardet_r00011552_s00_t02_Current.artdaq.root
args=--nevents %(NEVENTS)s --step %(STEP)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --step-name %(STEP_NAME)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_NOVASOFT)s/%(INPUT_FILE)s %(INPUTFILEDIR_NOVASOFT)s/%(TESTMASK)s %(INPUTFILEDIR_NOVASOFT)s/%(FHiCL_FILE)s %(INPUTFILEDIR_NOVASOFT)s/neardet_r00011552_s00_t02_Reference.artdaq.root
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[test ci_raw2root_fd_t00_regression_test_novasoft]

script=${TEST_CI_DIR}/test/%(EXPSCRIPT_NOVASOFT)s
STEP=1
STEP_NAME=raw2root_fd_t00
NEVENTS=1
TESTMASK=testmask_custom.txt
FHiCL_FILE=ci_test_raw2root_novasoft.fcl
INPUT_FILE=fardet_r00022972_s05_t00.raw
OUTPUT_STREAM=out1:fardet_r00022972_s05_t00_Current.artdaq.root
args=--nevents %(NEVENTS)s --step %(STEP)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --step-name %(STEP_NAME)s  --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_NOVASOFT)s/%(INPUT_FILE)s %(INPUTFILEDIR_NOVASOFT)s/%(TESTMASK)s %(INPUTFILEDIR_NOVASOFT)s/%(FHiCL_FILE)s %(INPUTFILEDIR_NOVASOFT)s/fardet_r00022972_s05_t00_Reference.artdaq.root
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[test ci_raw2root_fd_t02_regression_test_novasoft]

script=${TEST_CI_DIR}/test/%(EXPSCRIPT_NOVASOFT)s
STEP=1
STEP_NAME=raw2root_fd_t02
NEVENTS=1
TESTMASK=testmask_custom.txt
FHiCL_FILE=ci_test_raw2root_novasoft.fcl
INPUT_FILE=fardet_r00022972_s05_t02.raw
OUTPUT_STREAM=out1:fardet_r00022972_s05_t02_Current.artdaq.root
args=--nevents %(NEVENTS)s --step %(STEP)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --step-name %(STEP_NAME)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_NOVASOFT)s/%(INPUT_FILE)s %(INPUTFILEDIR_NOVASOFT)s/%(TESTMASK)s %(INPUTFILEDIR_NOVASOFT)s/%(FHiCL_FILE)s %(INPUTFILEDIR_NOVASOFT)s/fardet_r00022972_s05_t02_Reference.artdaq.root
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[test ci_reco_nd_regression_test_novasoft]

script=${TEST_CI_DIR}/test/%(EXPSCRIPT_NOVASOFT)s
STEP=2
STEP_NAME=reco_nd
NEVENTS=1
TESTMASK=testmask_custom.txt
FHiCL_FILE=ci_test_reco_nd_novasoft.fcl
INPUT_FILE=neardet_r00011552_s00_t00_Reference.artdaq.root 
OUTPUT_STREAM=outreco:neardet_r00011552_s00_t00_Current.reco.root
SEED_FILE=Reco_nd_RandomSeeds_Reference.dat
args=--nevents %(NEVENTS)s --step %(STEP)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --step-name %(STEP_NAME)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_NOVASOFT)s/%(INPUT_FILE)s %(INPUTFILEDIR_NOVASOFT)s/%(TESTMASK)s %(INPUTFILEDIR_NOVASOFT)s/%(FHiCL_FILE)s %(INPUTFILEDIR_NOVASOFT)s/neardet_r00011552_s00_t00_Reference.reco.root %(INPUTFILEDIR_NOVASOFT)s/%(SEED_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[test ci_reco_fd_regression_test_novasoft]

script=${TEST_CI_DIR}/test/%(EXPSCRIPT_NOVASOFT)s
STEP=2
STEP_NAME=reco_fd
NEVENTS=1
TESTMASK=testmask_custom.txt
FHiCL_FILE=ci_test_reco_fd_novasoft.fcl
INPUT_FILE=fardet_r00022972_s05_t00_Reference.artdaq.root
OUTPUT_STREAM=outreco:fardet_r00022972_s05_t00_Current.reco.root
args=--nevents %(NEVENTS)s --step %(STEP)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --step-name %(STEP_NAME)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_NOVASOFT)s/%(INPUT_FILE)s %(INPUTFILEDIR_NOVASOFT)s/%(TESTMASK)s %(INPUTFILEDIR_NOVASOFT)s/%(FHiCL_FILE)s %(INPUTFILEDIR_NOVASOFT)s/fardet_r00022972_s05_t00_Reference.reco.root
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[test ci_calib_nd_regression_test_novasoft]

script=${TEST_CI_DIR}/test/%(EXPSCRIPT_NOVASOFT)s
STEP=3
STEP_NAME=calib_nd
NEVENTS=1
TESTMASK=testmask_custom.txt
FHiCL_FILE=ci_test_calib_nd_novasoft.fcl
INPUT_FILE=neardet_r00011552_s00_t00_Reference.artdaq.root
OUTPUT_STREAM=outpclist:neardet_r00011552_s05_t02_Current.pclist.root,outpcliststop:neardet_r00011552_s05_t02_Current.pcliststop.root,outtimecal:neardet_r00011552_s05_t02_Current.timecal.root
SEED_FILE=Calib_nd_RandomSeeds_Reference.dat
args=--nevents %(NEVENTS)s --step %(STEP)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --step-name %(STEP_NAME)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_NOVASOFT)s/%(INPUT_FILE)s %(INPUTFILEDIR_NOVASOFT)s/%(TESTMASK)s %(INPUTFILEDIR_NOVASOFT)s/%(FHiCL_FILE)s %(INPUTFILEDIR_NOVASOFT)s/neardet_r00011552_s05_t02_Reference.pclist.root %(INPUTFILEDIR_NOVASOFT)s/neardet_r00011552_s05_t02_Reference.pcliststop.root %(INPUTFILEDIR_NOVASOFT)s/neardet_r00011552_s05_t02_Reference.timecal.root %(INPUTFILEDIR_NOVASOFT)s/%(SEED_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[test ci_calib_fd_regression_test_novasoft]

script=${TEST_CI_DIR}/test/%(EXPSCRIPT_NOVASOFT)s
STEP=3
STEP_NAME=calib_fd
NEVENTS=1
TESTMASK=testmask_custom.txt
FHiCL_FILE=ci_test_calib_fd_novasoft.fcl
INPUT_FILE=fardet_r00022972_s05_t00_Reference.artdaq.root
OUTPUT_STREAM=outpclist:fardet_r00022972_s05_t00_Current.pclist.root,outpcliststop:fardet_r00022972_s05_t00_Current.pcliststop.root,outtimecal:fardet_r00022972_s05_t00_Current.timecal.root
args=--nevents %(NEVENTS)s --step %(STEP)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --step-name %(STEP_NAME)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_NOVASOFT)s/%(INPUT_FILE)s %(INPUTFILEDIR_NOVASOFT)s/%(TESTMASK)s %(INPUTFILEDIR_NOVASOFT)s/%(FHiCL_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[test ci_gen_regression_test_novasoft]

script=${TEST_CI_DIR}/test/%(EXPSCRIPT_NOVASOFT)s
STEP=4
STEP_NAME=gen
NEVENTS=1
TESTMASK=testmask_custom.txt
FHiCL_FILE=ci_test_gen_novasoft.fcl
OUTPUT_STREAM=out1:
args=--nevents %(NEVENTS)s --step %(STEP)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --step-name %(STEP_NAME)s --testmask %(TESTMASK)s
inputfiles= %(INPUTFILEDIR_NOVASOFT)s/%(TESTMASK)s %(INPUTFILEDIR_NOVASOFT)s/%(FHiCL_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[test ci_mcreco_regression_test_novasoft]

script=${TEST_CI_DIR}/test/%(EXPSCRIPT_NOVASOFT)s
requires=ci_gen_regression_test_novasoft
STEP=5
STEP_NAME=mcreco
NEVENTS=1
TESTMASK=testmask_custom.txt
SOURCE_STEP=gen
FHiCL_FILE=ci_test_mcreco_novasoft.fcl
INPUT_FILE=
OUTPUT_STREAM=out1:
args=--nevents %(NEVENTS)s --step %(STEP)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --step-name %(STEP_NAME)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_NOVASOFT)s/%(INPUT_FILE)s %(INPUTFILEDIR_NOVASOFT)s/%(TESTMASK)s %(INPUTFILEDIR_NOVASOFT)s/%(FHiCL_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[suite default]
testlist=ci_raw2root_nd_t00_regression_test_novasoft ci_raw2root_nd_t02_regression_test_novasoft ci_raw2root_fd_t00_regression_test_novasoft ci_raw2root_fd_t02_regression_test_novasoft ci_reco_nd_regression_test_novasoft ci_reco_fd_regression_test_novasoft ci_calib_nd_regression_test_novasoft ci_calib_fd_regression_test_novasoft

